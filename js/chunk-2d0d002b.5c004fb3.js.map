{"version":3,"sources":["webpack:///./src/components/projects/modals/TagModifyModal.vue?0a4b","webpack:///./src/components/projects/modals/TagModifyModal.vue","webpack:///./src/components/projects/modals/TagModifyModal.vue?e930","webpack:///./src/components/projects/modals/TagModifyModal.vue?cca6"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","$vuetify","breakpoint","smAndDown","staticClass","_v","_s","t","type","on","close","previewTag","loading","fields","name","rules","error","model","value","callback","$$v","$set","expression","color","randomColor","description","save","staticRenderFns","scoped","InputField","payload","tag","ModalHandler","Math","floor","random","toString","toUpperCase","values","InputFieldUtil","getValues","action","TagService","update","id","create","then","SnackbarHandler","open","message","RouterUtil","reload","$router","ErrorHandler","handle","style","default","components","ProjectTag","component","VBtn","VCard","VCardActions","VCardSubtitle","VCardText","VCardTitle","VCol","VForm","VIcon","VRow","VSpacer","VTextField"],"mappings":"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","file":"js/chunk-2d0d002b.5c004fb3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"tile\":_vm.$vuetify.breakpoint.smAndDown}},[_c('v-card-title',{staticClass:\"modal__title\"},[_vm._v(\" \"+_vm._s(_vm.t((\"tags.\" + _vm.type + \".title\")))+\" \"),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-subtitle',[_vm._v(\" \"+_vm._s(_vm.t((\"tags.\" + _vm.type + \".desc\")))+\" \")]),_c('v-card-text',[_c('div',{staticClass:\"pb-5\"},[_c('project-tag',{attrs:{\"tag\":_vm.previewTag}})],1),_c('v-form',{attrs:{\"disabled\":_vm.loading}},[_c('v-text-field',{attrs:{\"rules\":_vm.fields.name.rules,\"error-messages\":_vm.fields.name.error,\"label\":_vm.t('tags.modify.fields.name.label'),\"placeholder\":_vm.t('tags.modify.fields.name.placeholder'),\"outlined\":\"\",\"required\":\"\"},model:{value:(_vm.fields.name.value),callback:function ($$v) {_vm.$set(_vm.fields.name, \"value\", $$v)},expression:\"fields.name.value\"}}),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"rules\":_vm.fields.color.rules,\"error-messages\":_vm.fields.color.error,\"label\":_vm.t('tags.modify.fields.color.label'),\"placeholder\":_vm.t('tags.modify.fields.color.placeholder'),\"outlined\":\"\",\"required\":\"\"},model:{value:(_vm.fields.color.value),callback:function ($$v) {_vm.$set(_vm.fields.color, \"value\", $$v)},expression:\"fields.color.value\"}})],1),_c('v-col',{staticClass:\"mb-8\",attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"color\":_vm.fields.color.value,\"large\":\"\",\"depressed\":\"\"},on:{\"click\":_vm.randomColor}},[_c('v-icon',[_vm._v(\"mdi-refresh\")])],1)],1)],1),_c('v-text-field',{attrs:{\"rules\":_vm.fields.description.rules,\"error-messages\":_vm.fields.description.error,\"label\":_vm.t('tags.modify.fields.description.label'),\"placeholder\":_vm.t('tags.modify.fields.description.placeholder'),\"outlined\":\"\",\"required\":\"\"},model:{value:(_vm.fields.description.value),callback:function ($$v) {_vm.$set(_vm.fields.description, \"value\", $$v)},expression:\"fields.description.value\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"error\",\"text\":\"\",\"disabled\":_vm.loading},on:{\"click\":_vm.close}},[_vm._v(\" \"+_vm._s(_vm.t(\"cancel\"))+\" \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\",\"disabled\":_vm.loading,\"loading\":_vm.loading},on:{\"click\":_vm.save}},[_vm._v(\" \"+_vm._s(_vm.t(\"save\"))+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { ModalHandler } from \"@/util/modal/ModalHandler\";\nimport { InputField } from \"@/types/fields/InputField\";\nimport { Tag } from \"@/api/models/Tag\";\nimport { InputFieldUtil } from \"@/util/InputFieldUtil\";\nimport { ErrorHandler } from \"@/api/error/ErrorHandler\";\nimport { RouterUtil } from \"@/util/RouterUtil\";\nimport { SnackbarHandler } from \"@/util/snackbar/SnackbarHandler\";\nimport TagService from \"@/api/services/TagService\";\nimport ProjectTag from \"@/components/projects/ProjectTag.vue\";\n\n@Component({\n    components: { ProjectTag }\n})\nexport default class ModifyTagModal extends Vue {\n    /**\n     * Payload passed by the ModalHandler.\n     */\n    @Prop({ default: {} })\n    payload: {\n        /**\n         * Tag to modify.\n         * If not specified, a new tag will be created.\n         */\n        tag?: Tag;\n    };\n\n    /**\n     * If the update request is loading.\n     */\n    loading = false;\n\n    /**\n     * If the tag is scoped to a project.\n     * A scope is just a visual guide, no constraints will be defined in the backend.\n     */\n    scoped = false;\n\n    /**\n     * Input fields.\n     */\n    fields = {\n        name: new InputField({ value: this.payload.tag?.name || \"\" }),\n        color: new InputField({ value: this.payload.tag?.color || \"\" }),\n        description: new InputField({ value: this.payload.tag?.description || \"\" })\n    };\n\n    /**\n     * Preview tag to display.\n     */\n    get previewTag(): Tag {\n        return {\n            name: this.fields.name.value || this.t(\"tags.modify.preview.name\"),\n            description: this.fields.description.value || this.t(\"tags.modify.preview.description\"),\n            color: this.fields.color.value\n        } as Tag;\n    }\n\n    /**\n     * If the modal is used for \"create\" or \"modify\".\n     */\n    get type() {\n        if (this.payload.tag) {\n            return \"modify\";\n        } else {\n            return \"create\";\n        }\n    }\n\n    /**\n     * When the component is created.\n     */\n    created() {\n        // Only render an initial random color when creating a tag.\n        if (!this.payload.tag) {\n            this.randomColor();\n        }\n    }\n\n    /**\n     * Close the modal.\n     */\n    close() {\n        ModalHandler.close();\n    }\n\n    /**\n     * Update the color field with a random color.\n     */\n    randomColor() {\n        this.fields.color.value = `#${Math.floor(Math.random() * 16777215)\n            .toString(16)\n            .toUpperCase()}`;\n    }\n\n    /**\n     * Save the changes of the tag.\n     * If no \"tag\" was specified, create a new one.\n     */\n    save() {\n        this.loading = true;\n\n        const values = InputFieldUtil.getValues(this.fields);\n        const action = this.payload.tag ? TagService.update(this.payload.tag.id, values) : TagService.create(values);\n\n        action\n            .then(() => {\n                // Close the modal.\n                this.close();\n\n                // Send a confirmation snackbar.\n                SnackbarHandler.open({\n                    message: \"Tag has been successfully updated.\",\n                    color: \"success\"\n                });\n\n                // Reload the page.\n                RouterUtil.reload(this.$router);\n            })\n            .catch(error => {\n                ErrorHandler.handle(error, {\n                    style: \"SNACKBAR\"\n                });\n            })\n            .finally(() => {\n                this.loading = false;\n            });\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModifyModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagModifyModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TagModifyModal.vue?vue&type=template&id=742b9caa&\"\nimport script from \"./TagModifyModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./TagModifyModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VCol,VForm,VIcon,VRow,VSpacer,VTextField})\n"],"sourceRoot":""}